  get:
    summary: List resources
    description: |
      Retrieve a list of resources associated with registrations.
    tags:
      - Resources
    operationId: listResources
    responses:
      '200':
        description: Successful retrieval of resource list
        schema:
          type: object
          properties:
            data:
              type: array
              items:
                type: object
                required:
                  - id
                  - type
                  - attributes
                  - relationships
                properties:
                  id:
                    type: string
                    example: "abc123"
                  type:
                    type: string
                    example: "resources"
                  attributes:
                    type: object
                    properties:
                      date_created:
                        type: string
                        format: date-time
                        example: "2024-01-01T00:00:00Z"
                      date_modified:
                        type: string
                        format: date-time
                        example: "2024-01-02T00:00:00Z"
                      description:
                        type: string
                        example: "Dataset resource"
                      resource_type:
                        type: string
                        example: "data"
                      finalized:
                        type: boolean
                        example: true
                      pid:
                        type: string
                        example: "10.1234/resource.5678"
                  relationships:
                    type: object
                    properties:
                      registration:
                        type: object
                        properties:
                          data:
                            type: object
                            properties:
                              id:
                                type: string
                                example: "reg123"
                              type:
                                type: string
                                example: "registrations"
                  links:
                    type: object
                    properties:
                      self:
                        type: string
                        example: "https://api.osf.io/v2/resources/abc123/"
            meta:
              type: object
              properties:
                total:
                  type: integer
                  example: 1
                per_page:
                  type: integer
                  example: 10
                page:
                  type: integer
                  example: 1
      '401':
        description: Authentication required.
      '403':
        description: Permission denied.

  post:
    summary: Create a new resource
    description: |
      Create a new resource associated with a registration.
    tags:
      - Resources
    operationId: createResource
    parameters:
      - name: body
        in: body
        description: Resource object to create
        required: true
        schema:
          type: object
          required:
            - data
          properties:
            data:
              type: object
              required:
                - type
                - attributes
                - relationships
              properties:
                type:
                  type: string
                  example: "resources"
                attributes:
                  type: object
                  properties:
                    description:
                      type: string
                      example: "Dataset resource"
                    resource_type:
                      type: string
                      example: "data"
                relationships:
                  type: object
                  properties:
                    registration:
                      type: object
                      properties:
                        data:
                          type: object
                          required:
                            - type
                            - id
                          properties:
                            type:
                              type: string
                              example: "registrations"
                            id:
                              type: string
                              example: "reg123"
    responses:
      '201':
        description: Successfully created a new resource
        schema:
          $ref: 'definition.yaml'
      '400':
        description: Validation error or invalid data.
      '401':
        description: Authentication required.
      '403':
        description: Permission denied.